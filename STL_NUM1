#include <iostream>

using namespace std;

template <typename Input1, typename Input2, 
         typename Output, typename Func>
         Output xcopy_if (Input1 first, Input2 last,
                          Output result, Func func)
{
    while(first != last){
        if (func(*first)){
            *result = *first;
            ++result;
        }
        ++first;
    }
    return result;
}

int main()
{
    int x[10] = {1,2,3,4,5,6,7,8,9,10};
    int y[10] = {0};
    
    xcopy_if(x, x + 10, y, [](int a){ return a%2 == 0;});
    
    for(auto n : y)
       cout << n << endl;

}
